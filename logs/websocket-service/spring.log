12:54:11.933-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] com.zch.WebsocketApplication             : The following 1 profile is active: "local"
12:54:12.429-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
12:54:12.430-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:54:12.444-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
12:54:12.562-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=daf469af-aa95-3ec2-8e79-464b7bfd0784
12:54:12.941-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8091 (http)
12:54:12.947-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
12:54:12.947-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
12:54:13.018-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
12:54:13.018-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1077 ms
12:54:13.195-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-service' URL not provided. Will try picking an instance via load-balancing.
12:54:13.689-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] com.alibaba.nacos.client.naming          : initializer namespace from System Property :null
12:54:13.689-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] com.alibaba.nacos.client.naming          : initializer namespace from System Environment :null
12:54:13.689-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] com.alibaba.nacos.client.naming          : initializer namespace from System Property :null
12:54:13.715-[CaiHua-Mac.local][sys]--DEBUG 85738 --- [           main] c.z.common.redis.config.RedissonConfig   : 尝试初始化RedissonClient
12:54:13.792-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] org.redisson.Version                     : Redisson 3.24.3
12:54:13.868-[CaiHua-Mac.local][sys]-- INFO 85738 --- [isson-netty-2-4] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 127.0.0.1/127.0.0.1:6379
12:54:13.958-[CaiHua-Mac.local][sys]-- INFO 85738 --- [sson-netty-2-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 127.0.0.1/127.0.0.1:6379
12:54:14.015-[CaiHua-Mac.local][sys]-- WARN 85738 --- [           main] o.a.r.s.a.RocketMQAutoConfiguration      : The necessary spring property 'rocketmq.name-server' is not defined, all rockertmq beans creation are skipped!
12:54:14.242-[CaiHua-Mac.local][sys]-- WARN 85738 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
12:54:14.245-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
12:54:14.349-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8091 (http) with context path ''
12:54:14.351-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] com.alibaba.nacos.client.naming          : [BEAT] adding beat: BeatInfo{port=8091, ip='127.0.0.1', weight=1.0, serviceName='DEFAULT_GROUP@@websocket-service', cluster='DEFAULT', metadata={preserved.register.source=SPRING_CLOUD}, scheduled=false, period=5000, stopped=false} to beat map.
12:54:14.352-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] com.alibaba.nacos.client.naming          : [REGISTER-SERVICE] 0b9a59a8-3e92-4637-81ec-4f43304c767b registering service DEFAULT_GROUP@@websocket-service with instance: Instance{instanceId='null', ip='127.0.0.1', port=8091, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
12:54:14.356-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP websocket-service 127.0.0.1:8091 register finished
12:54:14.367-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] com.zch.WebsocketApplication             : Started WebsocketApplication in 3.052 seconds (JVM running for 3.393)
12:54:14.371-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-127.0.0.1_8848] [subscribe] websocket-service.yaml+DEFAULT_GROUP
12:54:14.372-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=websocket-service.yaml, group=DEFAULT_GROUP, cnt=1
12:54:14.372-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.c.n.refresh.NacosContextRefresher    : listening config: dataId=websocket-service.yaml, group=DEFAULT_GROUP
12:54:14.372-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-127.0.0.1_8848] [subscribe] websocket-service+DEFAULT_GROUP
12:54:14.372-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=websocket-service, group=DEFAULT_GROUP, cnt=1
12:54:14.372-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.c.n.refresh.NacosContextRefresher    : listening config: dataId=websocket-service, group=DEFAULT_GROUP
12:54:14.372-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-127.0.0.1_8848] [subscribe] websocket-service-local.yaml+DEFAULT_GROUP
12:54:14.372-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-127.0.0.1_8848] [add-listener] ok, tenant=, dataId=websocket-service-local.yaml, group=DEFAULT_GROUP, cnt=1
12:54:14.372-[CaiHua-Mac.local][sys]-- INFO 85738 --- [           main] c.a.c.n.refresh.NacosContextRefresher    : listening config: dataId=websocket-service-local.yaml, group=DEFAULT_GROUP
12:54:14.418-[CaiHua-Mac.local][sys]-- INFO 85738 --- [on(4)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
12:54:14.418-[CaiHua-Mac.local][sys]-- INFO 85738 --- [on(4)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
12:54:14.419-[CaiHua-Mac.local][sys]-- INFO 85738 --- [on(4)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
12:54:14.423-[CaiHua-Mac.local][sys]-- INFO 85738 --- [on(5)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
12:54:14.568-[CaiHua-Mac.local][sys]-- INFO 85738 --- [on(5)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
12:54:15.356-[CaiHua-Mac.local][sys]-- INFO 85738 --- [.naming.updater] com.alibaba.nacos.client.naming          : new ips(1) service: DEFAULT_GROUP@@websocket-service@@DEFAULT -> [{"instanceId":"127.0.0.1#8091#DEFAULT#DEFAULT_GROUP@@websocket-service","ip":"127.0.0.1","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@websocket-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
12:54:15.360-[CaiHua-Mac.local][sys]-- INFO 85738 --- [.naming.updater] com.alibaba.nacos.client.naming          : current ips:(1) service: DEFAULT_GROUP@@websocket-service@@DEFAULT -> [{"instanceId":"127.0.0.1#8091#DEFAULT#DEFAULT_GROUP@@websocket-service","ip":"127.0.0.1","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@websocket-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
13:01:25.045-[CaiHua-Mac.local][sys]--DEBUG 85738 --- [nio-8091-exec-1] c.z.a.feignClient.user.UserFeignClient   : [UserFeignClient#getUserById] ---> GET http://user-service/api/getUserById?id=1745747394693820416 HTTP/1.1
13:01:25.073-[CaiHua-Mac.local][sys]-- INFO 85738 --- [nio-8091-exec-1] com.alibaba.nacos.client.naming          : new ips(1) service: DEFAULT_GROUP@@user-service -> [{"instanceId":"127.0.0.1#8084#DEFAULT#DEFAULT_GROUP@@user-service","ip":"127.0.0.1","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@user-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
13:01:25.074-[CaiHua-Mac.local][sys]-- INFO 85738 --- [nio-8091-exec-1] com.alibaba.nacos.client.naming          : current ips:(1) service: DEFAULT_GROUP@@user-service -> [{"instanceId":"127.0.0.1#8084#DEFAULT#DEFAULT_GROUP@@user-service","ip":"127.0.0.1","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@user-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
13:01:25.104-[CaiHua-Mac.local][sys]--DEBUG 85738 --- [nio-8091-exec-1] c.z.a.feignClient.user.UserFeignClient   : [UserFeignClient#getUserById] <--- HTTP/1.1 200  (59ms)
13:01:25.114-[CaiHua-Mac.local][sys]-- INFO 85738 --- [nio-8091-exec-1] com.zch.domain.WebSocket                 : 【websocket消息】有新的连接, 总数:1
13:01:37.086-[CaiHua-Mac.local][sys]--DEBUG 85738 --- [nio-8091-exec-2] c.z.a.feignClient.user.UserFeignClient   : [UserFeignClient#getUserById] ---> GET http://user-service/api/getUserById?id=1745747394693820416 HTTP/1.1
13:01:37.093-[CaiHua-Mac.local][sys]--DEBUG 85738 --- [nio-8091-exec-2] c.z.a.feignClient.user.UserFeignClient   : [UserFeignClient#getUserById] <--- HTTP/1.1 200  (7ms)
13:01:37.094-[CaiHua-Mac.local][sys]-- INFO 85738 --- [nio-8091-exec-2] com.zch.domain.WebSocket                 : 【websocket消息】广播消息, message={"t":"message","v":{"content":"111","chat_id":1},"u":{"nick_name":"超级管理员"}}
13:01:37.121-[CaiHua-Mac.local][sys]--DEBUG 85738 --- [nio-8091-exec-2] com.zch.mapper.DanmuMapper.insert        : ==>  Preparing: INSERT INTO danmu ( content, course_id, video_id, user_id, duration ) VALUES ( ?, ?, ?, ?, ? )
13:01:37.142-[CaiHua-Mac.local][sys]--DEBUG 85738 --- [nio-8091-exec-2] com.zch.mapper.DanmuMapper.insert        : ==> Parameters: 111(String), 1(Integer), 1(Integer), 1745747394693820416(Long), 0(BigDecimal)
13:01:37.146-[CaiHua-Mac.local][sys]--DEBUG 85738 --- [nio-8091-exec-2] com.zch.mapper.DanmuMapper.insert        : <==    Updates: 1
13:01:54.429-[CaiHua-Mac.local][sys]-- INFO 85738 --- [nio-8091-exec-3] com.zch.domain.WebSocket                 : 【websocket消息】连接断开, 总数:0
13:02:00.347-[CaiHua-Mac.local][sys]-- WARN 85738 --- [       Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
13:02:00.348-[CaiHua-Mac.local][sys]-- WARN 85738 --- [      Thread-12] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
13:02:00.349-[CaiHua-Mac.local][sys]-- WARN 85738 --- [      Thread-12] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
13:02:00.348-[CaiHua-Mac.local][sys]-- WARN 85738 --- [       Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
13:02:01.459-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
13:02:01.461-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : [BEAT] removing beat: DEFAULT_GROUP@@websocket-service:127.0.0.1:8091 from beat map.
13:02:01.461-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : [DEREGISTER-SERVICE] 0b9a59a8-3e92-4637-81ec-4f43304c767b deregistering service DEFAULT_GROUP@@websocket-service with instance: Instance{instanceId='null', ip='127.0.0.1', port=8091, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
13:02:01.471-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
13:02:01.472-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
13:02:04.484-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
13:02:04.484-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.core.HostReactor do shutdown begin
13:02:05.753-[CaiHua-Mac.local][sys]-- INFO 85738 --- [.naming.updater] com.alibaba.nacos.client.naming          : removed ips(1) service: DEFAULT_GROUP@@websocket-service@@DEFAULT -> [{"instanceId":"127.0.0.1#8091#DEFAULT#DEFAULT_GROUP@@websocket-service","ip":"127.0.0.1","port":8091,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@websocket-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
13:02:05.755-[CaiHua-Mac.local][sys]-- INFO 85738 --- [.naming.updater] com.alibaba.nacos.client.naming          : current ips:(0) service: DEFAULT_GROUP@@websocket-service@@DEFAULT -> []
13:02:06.115-[CaiHua-Mac.local][sys]-- INFO 85738 --- [.naming.updater] com.alibaba.nacos.client.naming          : removed ips(1) service: DEFAULT_GROUP@@user-service -> [{"instanceId":"127.0.0.1#8084#DEFAULT#DEFAULT_GROUP@@user-service","ip":"127.0.0.1","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@user-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
13:02:06.116-[CaiHua-Mac.local][sys]-- INFO 85738 --- [.naming.updater] com.alibaba.nacos.client.naming          : current ips:(0) service: DEFAULT_GROUP@@user-service -> []
13:02:06.117-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.core.PushReceiver do shutdown begin
13:02:09.125-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.core.PushReceiver do shutdown stop
13:02:09.125-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
13:02:09.125-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
13:02:09.126-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.core.HostReactor do shutdown stop
13:02:09.126-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.net.NamingProxy do shutdown begin
13:02:09.126-[CaiHua-Mac.local][sys]-- WARN 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : [NamingHttpClientManager] Start destroying NacosRestTemplate
13:02:09.126-[CaiHua-Mac.local][sys]-- WARN 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : [NamingHttpClientManager] Destruction of the end
13:02:09.126-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] c.a.n.client.identify.CredentialWatcher  : [null] CredentialWatcher is stopped
13:02:09.126-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] c.a.n.client.identify.CredentialService  : [null] CredentialService is freed
13:02:09.126-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.net.NamingProxy do shutdown stop
13:02:09.131-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
13:02:09.143-[CaiHua-Mac.local][sys]-- INFO 85738 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
